panel.border = element_rect(colour = "grey", fill = NA)
)
animate(employment_rate_line, fps = 25, duration = 50, width = 800, height = 600, end_pause = 100, renderer=gifski_renderer('./gifs/employment_rate_line.gif'))
circle <- image_read('./gifs/collocation_circle_over_years.gif')
library(tidyverse)
library(ggplot2)
library(ggridges)
library(dplyr)
library(rnaturalearth)
library(rgeos)
library(leaflet)
library(shiny)
library(sf)
library(viridis)
library(shinydashboard)
library(ggrepel)
library(gganimate)
library(gifski)
library(plotly)
library(tidyr)
library(knitr)
library(ggparliament)
library(gifski)
library(magick)
install.packages('magick')
install.packages('magick')
library(tidyverse)
library(ggplot2)
library(ggridges)
library(dplyr)
library(rnaturalearth)
library(rgeos)
library(leaflet)
library(shiny)
library(sf)
library(viridis)
library(shinydashboard)
library(ggrepel)
library(gganimate)
library(gifski)
library(plotly)
library(tidyr)
library(knitr)
library(ggparliament)
library(gifski)
library(magick)
`%notin%` <- Negate(`%in%`)
election_years <- c(1948, 1953, 1958, 1963, 1968, 1972, 1976, 1979, 1983, 1987, 1992, 1994, 1996, 2001, 2006, 2008, 2013, 2018)
circle <- image_read('./gifs/collocation_circle_over_years.gif')
circle <- image_read('./gifs/collocation_circle_over_years.gif')
library(tidyverse)
library(ggplot2)
library(ggridges)
library(dplyr)
library(rnaturalearth)
library(rgeos)
library(leaflet)
library(shiny)
library(sf)
library(viridis)
library(shinydashboard)
library(ggrepel)
library(gganimate)
library(gifski)
library(plotly)
library(tidyr)
library(knitr)
library(ggparliament)
library(gifski)
library(magick)
`%notin%` <- Negate(`%in%`)
election_years <- c(1948, 1953, 1958, 1963, 1968, 1972, 1976, 1979, 1983, 1987, 1992, 1994, 1996, 2001, 2006, 2008, 2013, 2018)
circle <- image_read('./gifs/collocation_circle_over_years.gif')
sessionInfo()
circle <- image_read('./gifs/collocation_circle_over_years.gif')
circle <- image_read('./gifs/collocation_circle_over_years.gif')
renv::status()
renv::snapshot()
library(tidyverse)
library(ggplot2)
library(ggridges)
library(dplyr)
library(rnaturalearth)
library(rgeos)
library(leaflet)
library(shiny)
library(sf)
library(viridis)
library(shinydashboard)
library(ggrepel)
library(gganimate)
library(gifski)
library(plotly)
library(tidyr)
library(knitr)
library(ggparliament)
library(gifski)
library(magick)
`%notin%` <- Negate(`%in%`)
election_years <- c(1948, 1953, 1958, 1963, 1968, 1972, 1976, 1979, 1983, 1987, 1992, 1994, 1996, 2001, 2006, 2008, 2013, 2018)
circle <- image_read('./gifs/collocation_circle_over_years.gif')
library(tidyverse)
library(ggplot2)
library(ggridges)
library(dplyr)
library(rnaturalearth)
library(rgeos)
library(leaflet)
library(shiny)
library(sf)
library(viridis)
library(shinydashboard)
library(ggrepel)
library(gganimate)
library(gifski)
library(plotly)
library(tidyr)
library(knitr)
library(ggparliament)
library(gifski)
library(magick)
`%notin%` <- Negate(`%in%`)
election_years <- c(1948, 1953, 1958, 1963, 1968, 1972, 1976, 1979, 1983, 1987, 1992, 1994, 1996, 2001, 2006, 2008, 2013, 2018)
circle <- image_read('./gifs/collocation_circle_over_years.gif')
memory.limit()
memory.limit(size=6000)
coll_circle_anim <- list_coll_filled %>%
filter((House == 'Chamber') & (Percent > 0) & (Year >= 1979)) %>%
mutate(Rank = rank(Percent)) %>%
ggplot(aes(x=Rank, y=Percent*100, fill=Collocation)) +
geom_bar(stat='identity') +
geom_text(
hjust = 1,
size = 3,
aes( y = 0, label = paste(
Collocation,' - ', round(Percent, digits=1), '%  ')
)
) +
theme_minimal() +
scale_fill_brewer(palette = "Set2") +
theme(
panel.grid = element_blank(),
panel.border = element_blank(),
legend.position='none',
axis.text = element_blank(),
axis.ticks = element_blank(),
axis.title = element_blank()
) +
coord_polar(theta = 'y') +
ylim(0,10000) +
transition_states(
Year,
transition_length = 2,
state_length = 1
)
animate(coll_circle_anim, fps = 25, duration = 20, width = 800, height = 600, end_pause = 100, renderer=gifski_renderer('./gifs/collocation_circle_over_years.gif'))
employment_rate_line <- ggplot(empl_rate_it, aes(x=Year, y=Empl.Rate)) +
geom_line()  +
transition_reveal(Year) +
ease_aes("linear") +
enter_fade() +
exit_fade() +
geom_point(
data=empl_rate_it[empl_rate_it$Year==1995 | empl_rate_it$Year==2013,],
aes(color='Red', group=interaction(Year))
) +
geom_text(
data=empl_rate_it[empl_rate_it$Year==1995 | empl_rate_it$Year==2013,],
aes(color='Red', label='Local min.', group=interaction(Year)),
hjust=-0.1, vjust=1.1, size=3
) +
scale_x_discrete(limits=election_years[election_years>1976]) +
scale_y_continuous(labels=function(x) paste0(x, '%'), breaks=seq(53, 59, 1)) +
ylab('Employment rate') +
xlab('(Election) Year') +
geom_vline(xintercept=1994, color='Grey', linetype=2, alpha=0.5) +
geom_vline(xintercept=2013, color='Grey', linetype=2, alpha=0.5) +
ggtitle('Employment rate') +
theme_bw() +
theme(
axis.text.x = element_text(angle = 60, hjust = 1),
legend.position = "none",
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_rect(colour = "grey", fill = NA)
)
animate(employment_rate_line, fps = 25, duration = 20, width = 800, height = 600, end_pause = 100, renderer=gifski_renderer('./gifs/employment_rate_line.gif'))
circle <- image_read('./gifs/collocation_circle_over_years.gif')
senate_seats <- read.csv(
"./source/elections/senate-seats.csv",
header = TRUE,
sep = ";"
) %>%
subset(select=-House)
senate_seats <- read.csv(
"./source/elections/senate-seats.csv",
header = TRUE,
sep = ";"
) %>%
subset(select=-House)
senate_seats <- read.csv(
"./source/elections/senate-seats.csv/",
header = TRUE,
sep = ";"
) %>%
subset(select=-House)
senate_seats <- read.csv(
"./source/elections/senate-seats.csv/",
header = TRUE,
sep = ";"
) %>%
subset(select=-House)
senate_seats <- read.csv(
"./source/elections/senate-seats.csv/",
header = TRUE,
sep = ";"
) %>%
subset(select=-House)
senate_seats <- read.csv(
"./source/elections/senate-seats.csv/",
header = TRUE,
sep = ";"
) %>%
subset(select=-House)
senate_seats <- read.csv(
"./source/elections/senate-seats.csv/",
header = TRUE,
sep = ";"
) %>%
subset(select=-House)
senate_seats <- read.csv(
"./source/elections/senate-seats.csv/",
header = TRUE,
sep = ";"
) %>%
subset(select=-House)
circle <- image_read('./gifs/collocation_circle_over_years.gif/')
circle <- image_read('./gifs/collocation_circle_over_years.gif/')
circle <- image_read('./gifs/collocation_circle_over_years.gif')
senate_seats <- read.csv(
"./source/elections/senate-seats.csv",
header = TRUE,
sep = ";"
) %>%
subset(select=-House)
coll_circle_anim <- list_coll_filled %>%
filter((House == 'Chamber') & (Percent > 0) & (Year >= 1979)) %>%
mutate(Rank = rank(Percent)) %>%
ggplot(aes(x=Rank, y=Percent*100, fill=Collocation)) +
geom_bar(stat='identity') +
geom_text(
hjust = 1,
size = 3,
aes( y = 0, label = paste(
Collocation,' - ', round(Percent, digits=1), '%  ')
)
) +
theme_minimal() +
scale_fill_brewer(palette = "Set2") +
theme(
panel.grid = element_blank(),
panel.border = element_blank(),
legend.position='none',
axis.text = element_blank(),
axis.ticks = element_blank(),
axis.title = element_blank()
) +
coord_polar(theta = 'y') +
ylim(0,10000) +
transition_states(
Year,
transition_length = 2,
state_length = 1
)
animate(coll_circle_anim, fps = 25, duration = 10, width = 800, height = 600, end_pause = 100, renderer=gifski_renderer('./gifs/collocation_circle_over_years.gif'))
coll_circle_anim <- list_coll_filled %>%
filter((House == 'Chamber') & (Percent > 0) & (Year >= 1979)) %>%
mutate(Rank = rank(Percent)) %>%
ggplot(aes(x=Rank, y=Percent*100, fill=Collocation)) +
geom_bar(stat='identity') +
geom_text(
hjust = 1,
size = 3,
aes( y = 0, label = paste(
Collocation,' - ', round(Percent, digits=1), '%  ')
)
) +
theme_minimal() +
scale_fill_brewer(palette = "Set2") +
theme(
panel.grid = element_blank(),
panel.border = element_blank(),
legend.position='none',
axis.text = element_blank(),
axis.ticks = element_blank(),
axis.title = element_blank()
) +
coord_polar(theta = 'y') +
ylim(0,10000) +
transition_states(
Year,
transition_length = 1,
state_length = 2
)
animate(coll_circle_anim, fps = 25, duration = 10, width = 800, height = 600, end_pause = 100, renderer=gifski_renderer('./gifs/collocation_circle_over_years.gif'))
coll_circle_anim <- list_coll_filled %>%
filter((House == 'Chamber') & (Percent > 0) & (Year >= 1979)) %>%
mutate(Rank = rank(Percent)) %>%
ggplot(aes(x=Rank, y=Percent*100, fill=Collocation)) +
geom_bar(stat='identity') +
geom_text(
hjust = 1,
size = 3,
aes( y = 0, label = paste(
Collocation,' - ', round(Percent, digits=1), '%  ')
)
) +
theme_minimal() +
scale_fill_brewer(palette = "Set2") +
theme(
panel.grid = element_blank(),
panel.border = element_blank(),
legend.position='none',
axis.text = element_blank(),
axis.ticks = element_blank(),
axis.title = element_blank()
) +
coord_polar(theta = 'y') +
ylim(0,10000) +
transition_states(
Year,
transition_length = 0,
state_length = 2
)
animate(coll_circle_anim, fps = 25, duration = 10, width = 800, height = 600, end_pause = 100, renderer=gifski_renderer('./gifs/collocation_circle_over_years.gif'))
list_coll_filled %>%
filter((House == 'Chamber') & (Percent > 0) & (Year >= 1979)) %>%
mutate(Rank = rank(Percent))
coll_circle_anim <- list_coll_filled %>%
filter((House == 'Chamber') & (Percent > 0) & (Year >= 1979)) %>%
mutate(Rank = rank(Percent)) %>%
ggplot(aes(x=Rank, y=Percent*100, fill=Collocation)) +
geom_bar(stat='identity') +
geom_text(
hjust = 1,
size = 3,
aes( y = 0, label = paste(
Collocation,' - ', round(Percent, digits=1), '%  ')
)
) +
theme_minimal() +
scale_fill_brewer(palette = "Set2") +
theme(
panel.grid = element_blank(),
panel.border = element_blank(),
legend.position='none',
axis.text = element_blank(),
axis.ticks = element_blank(),
axis.title = element_blank()
) +
coord_polar(theta = 'y') +
ylim(0,10000) +
transition_states(
Year,
transition_length = 0.5,
state_length = 2
)
animate(coll_circle_anim, fps = 25, duration = 10, width = 800, height = 600, end_pause = 100, renderer=gifski_renderer('./gifs/collocation_circle_over_years.gif'))
coll_circle_anim <- list_coll_filled %>%
filter((House == 'Chamber') & (Percent > 0) & (Year >= 1979)) %>%
mutate(Rank = rank(Percent)) %>%
ggplot(aes(x=Rank, y=Percent*100, fill=Collocation)) +
geom_bar(stat='identity') +
geom_text(
hjust = 1,
size = 3,
aes( y = 0, label = paste(
Collocation,' - ', round(Percent, digits=1), '%  ')
)
) +
theme_minimal() +
scale_fill_brewer(palette = "Set2") +
theme(
panel.grid = element_blank(),
panel.border = element_blank(),
legend.position='none',
axis.text = element_blank(),
axis.ticks = element_blank(),
axis.title = element_blank()
) +
coord_polar(theta = 'y') +
ylim(0,10000) +
transition_states(
Year,
transition_length = 0,
state_length = 2
)
animate(coll_circle_anim, fps = 25, duration = 10, width = 800, height = 600, end_pause = 100, renderer=gifski_renderer('./gifs/collocation_circle_over_years.gif'))
library(tidyverse)
library(ggplot2)
library(ggridges)
library(dplyr)
library(rnaturalearth)
library(rgeos)
library(leaflet)
library(shiny)
library(sf)
library(viridis)
library(shinydashboard)
library(ggrepel)
library(gganimate)
library(gifski)
library(plotly)
library(tidyr)
library(knitr)
library(ggparliament)
library(gifski)
library(magick)
`%notin%` <- Negate(`%in%`)
election_years <- c(1948, 1953, 1958, 1963, 1968, 1972, 1976, 1979, 1983, 1987, 1992, 1994, 1996, 2001, 2006, 2008, 2013, 2018)
employment_rate_line <- ggplot(empl_rate_it, aes(x=Year, y=Empl.Rate)) +
geom_line()  +
transition_reveal(Year) +
ease_aes("linear") +
enter_fade() +
exit_fade() +
geom_point(
data=empl_rate_it[empl_rate_it$Year==1995 | empl_rate_it$Year==2013,],
aes(color='Red', group=interaction(Year))
) +
geom_text(
data=empl_rate_it[empl_rate_it$Year==1995 | empl_rate_it$Year==2013,],
aes(color='Red', label='Local min.', group=interaction(Year)),
hjust=-0.1, vjust=1.1, size=3
) +
scale_x_discrete(limits=election_years[election_years>1976]) +
scale_y_continuous(labels=function(x) paste0(x, '%'), breaks=seq(53, 59, 1)) +
ylab('Employment rate') +
xlab('(Election) Year') +
geom_vline(xintercept=1994, color='Grey', linetype=2, alpha=0.5) +
geom_vline(xintercept=2013, color='Grey', linetype=2, alpha=0.5) +
ggtitle('Employment rate') +
theme_bw() +
theme(
axis.text.x = element_text(angle = 60, hjust = 1),
legend.position = "none",
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_rect(colour = "grey", fill = NA)
)
animate(employment_rate_line, fps = 25, duration = 10, width = 800, height = 600, end_pause = 100, renderer=gifski_renderer('./gifs/employment_rate_line.gif'))
coll_circle_anim <- list_coll_filled %>%
filter((House == 'Chamber') & (Percent > 0) & (Year >= 1979)) %>%
mutate(Rank = rank(Percent)) %>%
ggplot(aes(x=Rank, y=Percent*100, fill=Collocation)) +
geom_bar(stat='identity') +
geom_text(
hjust = 1,
size = 3,
aes( y = 0, label = paste(
Collocation,' - ', round(Percent, digits=1), '%  ')
)
) +
theme_minimal() +
scale_fill_brewer(palette = "Set2") +
theme(
panel.grid = element_blank(),
panel.border = element_blank(),
legend.position='none',
axis.text = element_blank(),
axis.ticks = element_blank(),
axis.title = element_blank()
) +
coord_polar(theta = 'y') +
ylim(0,10000) +
transition_states(
Year,
transition_length = 0,
state_length = 2
)
animate(coll_circle_anim, fps = 25, duration = 50, width = 800, height = 600, end_pause = 100, renderer=gifski_renderer('./gifs/collocation_circle_over_years.gif'))
employment_rate_line <- ggplot(empl_rate_it, aes(x=Year, y=Empl.Rate)) +
geom_line()  +
transition_reveal(Year) +
ease_aes("linear") +
enter_fade() +
exit_fade() +
geom_point(
data=empl_rate_it[empl_rate_it$Year==1995 | empl_rate_it$Year==2013,],
aes(color='Red', group=interaction(Year))
) +
geom_text(
data=empl_rate_it[empl_rate_it$Year==1995 | empl_rate_it$Year==2013,],
aes(color='Red', label='Local min.', group=interaction(Year)),
hjust=-0.1, vjust=1.1, size=3
) +
scale_x_discrete(limits=election_years[election_years>1976]) +
scale_y_continuous(labels=function(x) paste0(x, '%'), breaks=seq(53, 59, 1)) +
ylab('Employment rate') +
xlab('(Election) Year') +
geom_vline(xintercept=1994, color='Grey', linetype=2, alpha=0.5) +
geom_vline(xintercept=2013, color='Grey', linetype=2, alpha=0.5) +
ggtitle('Employment rate') +
theme_bw() +
theme(
axis.text.x = element_text(angle = 60, hjust = 1),
legend.position = "none",
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
panel.border = element_rect(colour = "grey", fill = NA)
)
animate(employment_rate_line, fps = 25, duration = 50, width = 800, height = 600, end_pause = 100, renderer=gifski_renderer('./gifs/employment_rate_line.gif'))
